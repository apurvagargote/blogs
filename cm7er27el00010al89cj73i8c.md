---
title: "ğŸš€ Docker Compose for DevOps Engineers."
datePublished: Fri Feb 21 2025 12:31:05 GMT+0000 (Coordinated Universal Time)
cuid: cm7er27el00010al89cj73i8c
slug: docker-compose-for-devops-engineers
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1740140983777/8e1edf2b-f286-4958-a2f5-bad29fd7262a.jpeg
ogImage: https://cdn.hashnode.com/res/hashnode/image/upload/v1740141053801/5ca17b19-b723-4dad-97f3-59a973615bcb.jpeg
tags: 90daysofdevops, trainwithshubham, 90daysofdevops-chanllenge, 90daysofdevopschallenge

---

---

## ğŸš€ What is Docker Compose?

Docker Compose is a tool designed to **define and run multi-container applications** using a simple YAML file. Instead of manually running multiple `docker run` commands, Compose lets you:

âœ… **Define services** in a `docker-compose.yml` file  
âœ… **Spin up all containers** with a single command  
âœ… **Easily manage dependencies** between containers  
âœ… **Pass environment variables** and configurations efficiently

### ğŸ“œ What is YAML?

YAML (Yet Another Markup Language or YAML Ainâ€™t Markup Language) is a human-readable format used for writing configuration files.  
ğŸ”¹ Uses `.yml` or `.yaml` extensions  
ğŸ”¹ Follows an **indentation-based** structure  
ğŸ”¹ Easily readable and widely used in DevOps

---

## ğŸ—ï¸ **Task 1: Understanding docker-compose.yml**

To get hands-on with Docker Compose, learn how to:

1ï¸âƒ£ **Set up an environment** using `docker-compose.yml`  
2ï¸âƒ£ **Configure multiple services** within the file  
3ï¸âƒ£ **Link containers** so they communicate with each other  
4ï¸âƒ£ **Use environment variables** in the YAML file

### ğŸ¯ Sample `docker-compose.yml` File

Hereâ€™s a simple example of a `docker-compose.yml` file that runs an **NGINX** server and a **PostgreSQL** database together:

```plaintext
version: '3.8'

networks:
  mynetwork:  # Custom network name

services:
  web:
    image: nginx:latest
    ports:
      - "8080:80"
    depends_on:
      - db
    networks:
      - mynetwork  # Attach web to custom network

  db:
    image: postgres:latest
    environment:
      POSTGRES_USER: myuser
      POSTGRES_PASSWORD: mypassword
      POSTGRES_DB: mydatabase
    networks:
      - mynetwork  # Attach db to the same network
```

### **ğŸ› ï¸ Breakdown**

âœ… `networks`

* `networks:` defines a **custom bridge network** called `mynetwork`.
    
* Both `web` and `db` services are attached to `mynetwork`.
    
* Now, `web` can connect to `db` using `db:5432` (PostgreSQL default port).
    

âœ… `web` (NGINX Service)

* Uses `nginx:latest` image.
    
* Exposes [`http://localhost:8080`](http://localhost:8080) by mapping host port `8080` â†’ container port `80`.
    
* `depends_on: db` ensures the **database starts first** (but doesnâ€™t check if itâ€™s fully ready).
    

âœ… `db` (PostgreSQL Service)

* Uses `postgres:latest` image.
    
* **Environment variables** configure:
    
    * `POSTGRES_USER`: Username (**myuser**)
        
    * `POSTGRES_PASSWORD`: Password (**mypassword**)
        
    * `POSTGRES_DB`: Default database (**mydatabase**)
        

---

### **ğŸš€ How to Run?**

1ï¸âƒ£ **Start containers:**

```plaintext
docker-compose up -d
```

2ï¸âƒ£ **Stop and remove containers:**

```plaintext
docker-compose down
```

---

## ğŸ› ï¸ **Task 2: Pull and Run a Docker Image**

Now, letâ€™s pull and run a Docker container step by step:

### 1ï¸âƒ£ **Pull a Docker Image**

Download an existing image (e.g., NGINX) from **Docker Hub**:

```plaintext
docker pull nginx:latest
```

### 2ï¸âƒ£ **Run the Container as a Non-Root User**

By default, Docker runs as root, which is **not secure**. To run Docker without `sudo`, add your user to the Docker group:

```plaintext
sudo usermod -aG docker $USER
```

**Reboot the machine** to apply the changes:

```plaintext
sudo reboot
```

### 3ï¸âƒ£ **Start the Container**

Run the NGINX container in detached mode (`-d`):

```plaintext
docker run -d --name my-nginx -p 8080:80 nginx
```

ğŸŒ Now, visit [`http://localhost:8080`](http://localhost:8080) to see NGINX in action!

### 4ï¸âƒ£ **Inspect the Running Container**

Check running processes and exposed ports:

```plaintext
docker inspect my-nginx
```

### 5ï¸âƒ£ **View Logs**

Check the container logs to debug issues:

```plaintext
docker logs my-nginx
```

### 6ï¸âƒ£ **Stop and Restart the Container**

To **stop** the container:

```plaintext
docker stop my-nginx
```

To **start** it again:

```plaintext
docker start my-nginx
```

### 7ï¸âƒ£ **Remove the Container**

Once you're done, clean up the container:

```plaintext
docker rm my-nginx
```

---

## ğŸ¯ **Summary**

ğŸ”¹ **Docker Compose** simplifies managing multi-container apps using a YAML file.  
ğŸ”¹ **YAML** is a human-friendly configuration format for DevOps tools.  
ğŸ”¹ **Running Docker without sudo** improves security and ease of use.  

---